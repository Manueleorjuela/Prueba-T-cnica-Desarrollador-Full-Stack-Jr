<form [formGroup]="NewForm" (ngSubmit)="add()">
  <div class="form-container">

    <p *ngIf="NewError" class="alert alert-danger">{{ NewError }}</p>

    <p *ngIf="NewMessage" class="alert alert-success">{{ NewMessage }}</p>

 
    <div class="mb-3">
      <label for="email" class="form-label">Correo electrónico</label>
      <input formControlName="email"
             type="email"
             class="form-control"
             id="email">
      <div *ngIf="NewForm.get('email')?.invalid && (NewForm.get('email')?.dirty || NewForm.get('email')?.touched)"
           class="alert alert-danger">
        <div *ngIf="NewForm.get('email')?.errors?.['required']">El email es requerido.</div>
        <div *ngIf="NewForm.get('email')?.errors?.['email']">Debe ser un email válido.</div>
      </div>
    </div>

    <!-- Rol -->
<div class="mb-3">
  <label for="rol" class="form-label">Rol</label>
  <select formControlName="role" id="rol" class="form-select">
    <option value="" disabled selected>Selecciona un rol</option>
    <option value="admin">Admin</option>
    <option value="user">User</option>
  </select>
  <div *ngIf="NewForm.get('role')?.invalid && (NewForm.get('role')?.dirty || NewForm.get('role')?.touched)"
       class="alert alert-danger">
    <div *ngIf="NewForm.get('role')?.errors?.['required']">El rol es requerido.</div>
    <div *ngIf="NewForm.get('role')?.errors?.['pattern']">Debe ser 'admin' o 'user'.</div>
  </div>
</div>

    <!-- Nombre -->
    <div class="mb-3">
      <label for="name" class="form-label">Nombre</label>
      <input formControlName="name"
             type="text"
             class="form-control"
             id="name">
      <div *ngIf="NewForm.get('name')?.invalid && (NewForm.get('name')?.dirty || NewForm.get('name')?.touched)"
           class="alert alert-danger">
        <div *ngIf="NewForm.get('name')?.errors?.['required']">El nombre es requerido.</div>
        <div *ngIf="NewForm.get('name')?.errors?.['pattern']">El nombre solo debe contener letras.</div>
      </div>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">Contraseña</label>
      <input formControlName="password"
             type="password"
             class="form-control"
             id="password">
      <div *ngIf="NewForm.get('password')?.invalid && (NewForm.get('password')?.dirty || NewForm.get('password')?.touched)"
           class="alert alert-danger">
        <div *ngIf="NewForm.get('password')?.errors?.['required']">La contraseña es requerida.</div>
      </div>
    </div>
        <div class="d-flex mt-3 gap-2">
        <button type="submit" class="btn btn-primary">Añadir usuario</button>
        <button type="button" class="btn btn-secondary" (click)="VolverMenuOpciones()">Volver</button>
        </div>
  </div>
</form>
